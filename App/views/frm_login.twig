{% extends path_sys_template %}

{% block title %}
    {{ page_title|default('ArtCMS :: Login') }}
{% endblock %}

{% block headtags %}
    {{ parent() }}
    {% set header_file = "%template_path%/headtags.twig"|replace({'%template_path%': path_user_template}) %}
    {% include header_file %}
    <script type="text/javascript">
        $(document).ready(function(){
            if($("#errors").html() == '') {
                $("#errors").hide();
            }
        });
    </script>
{% endblock %}

{% set is_login = user.getIsLogin() %}

{% block contentheader %}
    {% set cheader_file = "%template_path%/header.twig"|replace({'%template_path%': path_user_template}) %}
    {% include cheader_file %}
{% endblock %}

{% block contentbody %}
    {{ parent() }}
    {{ body_content }}

    <form class="pure-form pure-form-aligned" id="art-form" method="post" action="{{ path_url_postfix }}/login">
        <fieldset>
            <legend>{{ legend | default('Enter email and password to login.') }}</legend>
            <div class="pure-control-group">
                <label for="email">Email</label>
                <input id="email" type="text" placeholder="Your email address" name="email">
            </div>

            <div class="pure-control-group">
                <label for="password">Password</label>
                <input id="password" type="password" placeholder="Your password" name="password">
            </div>

            <div class="pure-controls">
                <button type="submit" class="pure-button pure-button-primary" name="submit" style="display: block; clear: both; margin-top: 5px; ">Login</button>
                <div>
                    Not a member yet? <a href="{{ path_url_postfix }}/signup">Sign Up</a>
                </div>
            </div>
        </fieldset>
    </form>

    <script type="text/javascript">
        $(document).ready ( function() {
            $("#art-form").validate ( {
                rules:{
                    email:{ required: true },
                    password:{ required: true }
                },
                messages: {
                    email: { required: "Please enter a valid email address." },
                    password: { required: "Please enter password." }
                }
            });
        });
    </script>
{% endblock %}

{% block footers %}
    {% set footer_file = "%template_path%/footer.twig"|replace({'%template_path%': path_user_template}) %}
    {% include footer_file %}
{% endblock %}
